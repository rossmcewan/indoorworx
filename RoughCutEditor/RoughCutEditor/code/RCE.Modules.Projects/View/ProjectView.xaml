<UserControl x:Class="RCE.Modules.Projects.ProjectView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
    xmlns:Infrastructure="clr-namespace:RCE.Infrastructure;assembly=RCE.Infrastructure"
    xmlns:Commands="clr-namespace:Microsoft.Practices.Composite.Presentation.Commands;assembly=Microsoft.Practices.Composite.Presentation"
    xmlns:vsm="clr-namespace:System.Windows;assembly=System.Windows"
    xmlns:Converters="clr-namespace:RCE.Infrastructure.Converters;assembly=RCE.Infrastructure"
    xmlns:data="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Data"
    Loaded="UserControl_Loaded">
    <UserControl.Resources>
        <Converters:DurationConverter  x:Key="DurationConverter"/>
        <Converters:DateTimeConverter  x:Key="DateTimeConverter"/>
        <Infrastructure:BindingHelper x:Key="DeleteCommand"/>
    </UserControl.Resources>
    <Grid >
        <data:DataGrid HorizontalGridLinesBrush="{StaticResource DataGridHorizontalLinesBrush}"
                       GridLinesVisibility="None"  
                       BorderThickness="0"
                       UseLayoutRounding="True"
                       ItemsSource="{Binding Projects}" 
                       AutoGenerateColumns="False"
                       IsReadOnly="True"
                       Style="{StaticResource GridStyle}"
                       ColumnHeaderStyle="{StaticResource DataGridColumnHeaderStyle}"
                       RowStyle="{StaticResource ProjectGridRowStyle}" AlternatingRowBackground="{StaticResource DataGridAlternatingRowBrush}" Background="{StaticResource DataGridBackgroundBrush}" BorderBrush="{StaticResource DataGridBorderBrush}" Foreground="{StaticResource ForegroundBrush}" RowBackground="{StaticResource DataGridRownBackgroundBrush}" VerticalGridLinesBrush="{StaticResource DataGridVerticalLinesBrush}">
            <data:DataGrid.Columns>
                <data:DataGridTemplateColumn CanUserSort="False" Header="Project Id" Width="178">
                    <data:DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <HyperlinkButton Name="ProjectLink" Content="{Binding ProviderUri}" TargetName="_self" Click="ProjectLink_Click" VerticalAlignment="Center"/>
                        </DataTemplate>
                    </data:DataGridTemplateColumn.CellTemplate>
                </data:DataGridTemplateColumn>
                <data:DataGridTextColumn CanUserSort="True" Width="Auto" Header="Name" Binding="{Binding Path=Name}"/>
                <data:DataGridTextColumn CanUserSort="True" Width="Auto" Header="Created" Binding="{Binding Path=Created, Converter={StaticResource DateTimeConverter}}"/>
                <data:DataGridTextColumn CanUserSort="True" Width="Auto" Header="Duration"  Binding="{Binding Converter={StaticResource DurationConverter}, Path=Duration}"/>
                <data:DataGridTextColumn CanUserSort="True" Width="Auto" Header="Start TimeCode" Binding="{Binding Path=StartTimeCode}"/>
                <data:DataGridTextColumn CanUserSort="True" Width="Auto" Header="Smpte Frame Rate" Binding="{Binding Path=SmpteFrameRate}"/>
                <data:DataGridTemplateColumn CanUserSort="False" CanUserResize="False" Header="">
                    <data:DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Commands:Click.Command="{Binding Path=Value, Source={StaticResource DeleteCommand}}"
                                  Commands:Click.CommandParameter="{Binding Path=ProviderUri}"
                                  ToolTipService.ToolTip="Delete Comment"
                                  Style="{StaticResource ProjectViewDeleteButtonStyle}"/>
                        </DataTemplate>
                    </data:DataGridTemplateColumn.CellTemplate>
                </data:DataGridTemplateColumn>
            </data:DataGrid.Columns>
        </data:DataGrid>
    </Grid>
</UserControl>